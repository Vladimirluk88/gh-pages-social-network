(this["webpackJsonpreact-learn-1"]=this["webpackJsonpreact-learn-1"]||[]).push([[9],{304:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(106);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,c=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(u){c=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(c)throw i}}return r}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},387:function(e,t,r){"use strict";r.r(t);var n=r(304),c=r(0),i=r.n(c),s=r(49),o=r(135),u=r(6),a=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.chat.status}));return Object(c.useEffect)((function(){return e(Object(o.c)()),function(){e(Object(o.d)())}}),[e]),Object(u.jsxs)("div",{children:["error"===t&&Object(u.jsx)("div",{children:"Some error occured. Please refresh page"}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l,{}),Object(u.jsx)(b,{})]})]})},l=function(){var e=Object(c.useRef)(null),t=Object(s.d)((function(e){return e.chat.messages})),r=Object(c.useState)(!0),i=Object(n.a)(r,2),o=i[0],a=i[1];return Object(c.useEffect)((function(){var t;null===(t=e.current)||void 0===t||t.scrollIntoView()}),[]),Object(c.useEffect)((function(){var t;o&&(null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}))}),[t,o]),Object(u.jsxs)("div",{style:{height:"700px",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<50?!o&&a(!0):o&&a(!1)},children:[t.map((function(e){return Object(u.jsx)(j,{message:e},e.id)})),Object(u.jsx)("div",{ref:e})]})},j=i.a.memo((function(e){var t=e.message;return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{alt:"user",src:t.photo||"https://www.pnglib.com/wp-content/uploads/2020/08/simple-user-icon_5f3407053cf89.png",style:{maxWidth:"50px"}})," ",Object(u.jsx)("b",{children:t.userName}),Object(u.jsx)("br",{}),t.message,Object(u.jsx)("hr",{})]})})),b=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(""),r=Object(n.a)(t,2),i=r[0],a=r[1],l=Object(s.c)(),j=Object(s.d)((function(e){return e.chat.status}));return Object(u.jsxs)("div",{onKeyPress:function(t){var r;"Enter"===t.key&&(null===(r=e.current)||void 0===r||r.click())},children:[Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{onChange:function(e){return a(e.currentTarget.value)},value:i,style:{resize:"none",width:200,height:70}})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{ref:e,disabled:"ready"!==j,onClick:function(){i&&(l(Object(o.b)(i)),a(""))},children:"Send"})})]})};t.default=function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(a,{})})}}}]);
//# sourceMappingURL=9.ff0f2c80.chunk.js.map